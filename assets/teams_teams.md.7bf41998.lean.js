import{_ as v,o as c,c as i,z as e,t as a,a as _,F as f,L as w,M as A,N as x,D as k,G as b,C as $}from"./chunks/framework.f5583048.js";import{s as C,g as G}from"./chunks/index.ebaa5f8a.js";const I={props:{name:{type:String,required:!0},desc:{type:String,required:!0},htmlUrl:{type:String,required:!0}}},N={class:"details"},R={class:"name"},U={class:"author"},E={class:"ghuser"},O={class:"ghuser"},z=["href"];function V(t,n,o,d,s,m){return c(),i("div",N,[e("h3",R,a(o.name),1),e("div",U,[e("p",E,"Description: "+a(o.desc),1),e("p",O,[_("GitHub: "),e("a",{href:o.htmlUrl}," link ",8,z)])])])}const j=v(I,[["render",V],["__scopeId","data-v-eab9fdbc"]]);const q={props:{currentTeam:{type:Object,required:!0}}},y=t=>(A("data-v-d9c0b73e"),t=t(),x(),t),B=y(()=>e("br",null,null,-1)),H={class:"card"},M=y(()=>e("br",null,null,-1)),F={class:"details"},L={class:"author"},P={class:"ghuser"},X=["href"],J=y(()=>e("p",{class:"ghuser"}," Recent projects: ",-1)),K=["href"],Q=["href"],W=["href"],Y=["href"];function Z(t,n,o,d,s,m){return c(),i(f,null,[e("button",{type:"button",onClick:n[0]||(n[0]=r=>t.$emit("change",!0)),cla:""}," Go back "),B,e("div",H,[M,e("div",F,[e("div",L,[e("p",P,[_(a(o.currentTeam.name)+" github: ",1),e("a",{href:o.currentTeam.htmlUrl}," link ",8,X)])]),J,(c(!0),i(f,null,w(o.currentTeam.repositories,(r,u)=>(c(),i("li",{key:u},[_(a(o.currentTeam.name)+" ",1),e("a",{href:r.commits_url},"Commits ",8,K),_(", "),e("a",{href:r.issues_url},"Issues ",8,Q),_(", "),e("a",{href:r.notifications_url},"Notifications ",8,W),_(" for "),e("a",{href:r.url},a(r.name),9,Y)]))),128))])])],64)}const ee=v(q,[["render",Z],["__scopeId","data-v-d9c0b73e"]]);const te={components:{ghcard:j,Team:ee},data(){return{main:!0,currentTeam:{},teamsArray:[],org:"",totalCount:0,role:null}},methods:{goTeam(t,n){this.main=t,this.currentTeam=n},async refreshTeams(){this.teamsArray=[],this.org="",this.totalCount=0,this.teamsArray=await this.getTeams()},async getTeams(){const t=C.getters.userData,n="gh-cli-for-education",o="https://github.com/"+n,d="https://api.github.com/orgs/"+n+"/teams",s=[],r=await(await fetch(d,{method:"GET",headers:{"X-GitHub-Api-Version":"2022-11-28",Authorization:`token ${t.token}`}})).json();for(const u of r){const l="https://api.github.com/orgs/"+n+"/teams/"+u.slug+"/repos",T=await(await fetch(l,{method:"GET",headers:{"X-GitHub-Api-Version":"2022-11-28",Authorization:`token ${t.token}`}})).json();T.forEach(h=>{const p="/"+h.name;h.url=o+p,h.issues_url=o+p+"/issues",h.commits_url=o+p+"/commits",h.notifications_url=o+p+"/notifications"});const D={name:u.name,htmlUrl:u.html_url,desc:u.description,repositories:T};s.push(D)}return this.totalCount=r.length,this.org=n,s}},async beforeMount(){if(G().length!==0){const t=C.getters.userData;this.role=t.role,this.teamsArray=this.role!==null?await this.getTeams():[]}}},S=t=>(A("data-v-c06a868c"),t=t(),x(),t),se={key:0},ne={class:"flex"},oe=S(()=>e("h1",null," Teams ",-1)),re=S(()=>e("br",null,null,-1)),ae={class:"card"},ce=["onClick"],ie={key:1};function le(t,n,o,d,s,m){const r=k("ghcard"),u=k("Team");return c(),i(f,null,[s.main&&(s.role!==null||s.role==="Owner")?(c(),i("div",se,[e("div",ne,[oe,_(),e("button",{type:"button",class:"refresh",onClick:n[0]||(n[0]=l=>m.refreshTeams())}," Refresh teams ðŸ”„ ")]),e("h2",null," Organization: "+a(s.org),1),e("h2",null," Number of teams: "+a(s.totalCount),1),(c(!0),i(f,null,w(s.teamsArray,(l,g)=>(c(),i("div",{key:g},[e("h3",null," Equipo: "+a(l.name)+" "+a(g+1)+" / "+a(s.totalCount),1),re,e("div",ae,[b(r,{htmlUrl:l.htmlUrl,name:l.name,desc:l.desc},null,8,["htmlUrl","name","desc"]),e("button",{type:"button",onClick:T=>m.goTeam(!1,l)}," More information ",8,ce)])]))),128))])):$("",!0),!s.main&&(s.role!==null||s.role==="Owner")?(c(),i("div",ie,[e("h1",null," Team "+a(s.currentTeam.name),1),b(u,{currentTeam:s.currentTeam,onChange:n[1]||(n[1]=l=>m.goTeam(!0,t.team))},null,8,["currentTeam"])])):$("",!0)],64)}const ue=v(te,[["render",le],["__scopeId","data-v-c06a868c"]]),de=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"teams/teams.md","filePath":"teams/teams.md","lastUpdated":null}'),_e={name:"teams/teams.md"},pe=Object.assign(_e,{setup(t){return(n,o)=>(c(),i("div",null,[b(ue)]))}});export{de as __pageData,pe as default};
