import{_ as v,o as i,c,z as e,t as a,a as _,F as g,L as A,M as x,N as D,D as k,G as b,C as $}from"./chunks/framework.f5583048.js";import{s as C,g as G}from"./chunks/index.ebaa5f8a.js";const N={props:{name:{type:String,required:!0},desc:{type:String,required:!0},htmlUrl:{type:String,required:!0}}},R={class:"details"},S={class:"name"},U={class:"author"},E={class:"ghuser"},O={class:"ghuser"},z=["href"];function I(s,n,o,d,t,m){return i(),c("div",R,[e("h3",S,a(o.name),1),e("div",U,[e("p",E,"Descrption: "+a(o.desc),1),e("p",O,[_("GitHub: "),e("a",{href:o.htmlUrl}," link ",8,z)])])])}const V=v(N,[["render",I],["__scopeId","data-v-24b079e0"]]);const j={props:{currentTeam:{type:Object,required:!0}}},y=s=>(x("data-v-d9c0b73e"),s=s(),D(),s),q=y(()=>e("br",null,null,-1)),B={class:"card"},H=y(()=>e("br",null,null,-1)),M={class:"details"},F={class:"author"},L={class:"ghuser"},P=["href"],X=y(()=>e("p",{class:"ghuser"}," Recent projects: ",-1)),J=["href"],K=["href"],Q=["href"],W=["href"];function Y(s,n,o,d,t,m){return i(),c(g,null,[e("button",{type:"button",onClick:n[0]||(n[0]=r=>s.$emit("change",!0)),cla:""}," Go back "),q,e("div",B,[H,e("div",M,[e("div",F,[e("p",L,[_(a(o.currentTeam.name)+" github: ",1),e("a",{href:o.currentTeam.htmlUrl}," link ",8,P)])]),X,(i(!0),c(g,null,A(o.currentTeam.repositories,(r,u)=>(i(),c("li",{key:u},[_(a(o.currentTeam.name)+" ",1),e("a",{href:r.commits_url},"Commits ",8,J),_(", "),e("a",{href:r.issues_url},"Issues ",8,K),_(", "),e("a",{href:r.notifications_url},"Notifications ",8,Q),_(" for "),e("a",{href:r.url},a(r.name),9,W)]))),128))])])],64)}const Z=v(j,[["render",Y],["__scopeId","data-v-d9c0b73e"]]);const ee={components:{ghcard:V,Team:Z},data(){return{main:!0,currentTeam:{},teamsArray:[],org:"",totalCount:0,role:null}},methods:{goTeam(s,n){this.main=s,this.currentTeam=n},async refreshTeams(){this.teamsArray=[],this.org="",this.totalCount=0,this.teamsArray=await this.getTeams()},async getTeams(){const s=C.getters.userData,n="gh-cli-for-education",o="https://github.com/"+n,d="https://api.github.com/orgs/"+n+"/teams",t=[],r=await(await fetch(d,{method:"GET",headers:{"X-GitHub-Api-Version":"2022-11-28",Authorization:`token ${s.token}`}})).json();for(const u of r){const l="https://api.github.com/orgs/"+n+"/teams/"+u.slug+"/repos",T=await(await fetch(l,{method:"GET",headers:{"X-GitHub-Api-Version":"2022-11-28",Authorization:`token ${s.token}`}})).json();T.forEach(h=>{const p="/"+h.name;h.url=o+p,h.issues_url=o+p+"/issues",h.commits_url=o+p+"/commits",h.notifications_url=o+p+"/notifications"});const w={name:u.name,htmlUrl:u.html_url,desc:u.description,repositories:T};t.push(w)}return this.totalCount=r.length,this.org=n,t}},async beforeMount(){if(G().length!==0){const s=C.getters.userData;this.role=s.role,this.teamsArray=this.role!==null?await this.getTeams():[]}}},te={key:0},se={class:"flex"},ne=e("h1",null," Teams ",-1),oe=e("br",null,null,-1),re={class:"card"},ae=["onClick"],ie={key:1};function ce(s,n,o,d,t,m){const r=k("ghcard"),u=k("Team");return i(),c(g,null,[t.main&&(t.role!==null||t.role==="Owner")?(i(),c("div",te,[e("div",se,[ne,_(),e("button",{type:"button",class:"refresh",onClick:n[0]||(n[0]=l=>m.refreshTeams())}," Refresh teams ðŸ”„ ")]),e("h2",null," Organization: "+a(t.org),1),e("h2",null," Number of teams: "+a(t.totalCount),1),(i(!0),c(g,null,A(t.teamsArray,(l,f)=>(i(),c("div",{key:f},[e("h3",null," Equipo: "+a(l.name)+" "+a(f+1)+" / "+a(t.totalCount),1),oe,e("div",re,[b(r,{htmlUrl:l.htmlUrl,name:l.name,desc:l.desc},null,8,["htmlUrl","name","desc"]),e("button",{type:"button",onClick:T=>m.goTeam(!1,l)}," More information ",8,ae)])]))),128))])):$("",!0),!t.main&&(t.role!==null||t.role==="Owner")?(i(),c("div",ie,[e("h1",null," Team "+a(t.currentTeam.name),1),b(u,{currentTeam:t.currentTeam,onChange:n[1]||(n[1]=l=>m.goTeam(!0,s.team))},null,8,["currentTeam"])])):$("",!0)],64)}const le=v(ee,[["render",ce]]),he=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"teams/teams.md","filePath":"teams/teams.md","lastUpdated":null}'),ue={name:"teams/teams.md"},de=Object.assign(ue,{setup(s){return(n,o)=>(i(),c("div",null,[b(le)]))}});export{he as __pageData,de as default};
